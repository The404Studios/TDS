# IDE Configuration Guide

This guide helps you configure your IDE to work properly with the TDS project after the codebase cleanup.

## What Was Fixed

We removed **16,086 lines** of legacy code that was causing ~2000 IDE errors:
- Old Visual Studio project files (*.sln, *.vcxproj)
- Old engine architecture (src/engine/, src/game/)
- Old UI system (src/client/ui/ lowercase)
- Duplicate directories with conflicting files
- Outdated documentation referencing removed systems

## IDE-Specific Instructions

### Visual Studio / Visual Studio Code

1. **Close your IDE completely**

2. **Delete IDE cache:**
   ```bash
   rm -rf .vs/
   rm -rf .vscode/
   rm -f *.user
   rm -f *.suo
   ```

3. **Use CMake instead of old .sln files:**
   - Open the folder `/home/user/TDS` (NOT a solution file)
   - VS Code: Install "CMake Tools" extension
   - Visual Studio: Use "Open Folder" instead of "Open Solution"

4. **Configure CMake:**
   ```bash
   cd build
   cmake -DCMAKE_EXPORT_COMPILE_COMMANDS=ON ..
   ```

5. **Point IntelliSense to compile_commands.json:**
   - VS Code: It should auto-detect `compile_commands.json` in project root
   - Visual Studio: It should auto-detect CMake configuration

6. **Reload/Reindex:**
   - VS Code: Press `Ctrl+Shift+P` → "C/C++: Rescan Workspace"
   - Visual Studio: Right-click project → "Rescan Solution"

### CLion

1. **Close CLion**

2. **Delete IDE cache:**
   ```bash
   rm -rf .idea/
   rm -rf cmake-build-*/
   ```

3. **Reopen CLion:**
   - It will automatically detect CMakeLists.txt
   - Let it reload the CMake project
   - Wait for indexing to complete

### Other IDEs (Qt Creator, Code::Blocks, etc.)

1. **Use CMake configuration** (don't import old .vcxproj files)
2. **Point to** `CMakeLists.txt` in project root
3. **Set build directory** to `build/`
4. **Use compile_commands.json** if your IDE supports it (symlinked in root)

## Verify Configuration

After reconfiguring your IDE, verify:

1. **No errors for these types:**
   - ❌ SceneManager, WeatherSystem, AudioEngine (old, removed)
   - ✅ NetworkServer, Database, UIManager (current, valid)

2. **Include paths working:**
   - raylib.h should be found via CMake
   - ENet headers should be found
   - Your own headers (common/Protocol.h, etc.) should be found

3. **IntelliSense/Autocomplete working:**
   - Try typing `Player::` and see if methods appear
   - Try typing `ItemDatabase::` and see if methods appear

## Common Issues

### Issue: "Cannot open include file: 'raylib.h'"

**Solution:** 
- Your IDE isn't using CMake configuration
- Make sure you opened the project as a CMake project, not the old .sln
- Check that compile_commands.json exists in project root

### Issue: Still seeing errors for SceneManager, etc.

**Solution:**
- Your IDE is using cached information
- Completely close IDE and delete cache directories
- Reopen and let it reindex from scratch

### Issue: "Two or more files with the name of SceneManager.cpp"

**Solution:**
- Old Visual Studio project files are being used
- Make sure you deleted ALL .sln and .vcxproj files
- Use CMake configuration instead

### Issue: Warnings about 'raylib.h' not found (but compiles fine)

**Solution:**
- IDE IntelliSense isn't configured properly
- Point it to compile_commands.json
- Or manually add include paths:
  - `build/_deps/raylib-src/src/`
  - `external/enet/include/`
  - `src/`

## Current Project Structure

```
TDS/
├── CMakeLists.txt          # Main build configuration
├── README.md               # Project documentation
├── compile_commands.json   # Symlink for IDE (gitignored)
├── src/
│   ├── client/            # Raylib client
│   ├── server/            # ENet server
│   └── common/            # Shared code
├── external/
│   ├── enet/              # ENet 1.3.17
│   └── sqlite/            # SQLite 3.45
├── assets/                # Game assets
└── build/                 # CMake build directory
    ├── TDS_Client         # Client executable
    ├── TDS_Server         # Server executable
    └── compile_commands.json  # Generated by CMake

.old_code/                 # Archived legacy code (gitignored)
```

## Build Commands (Reference)

```bash
# Configure
mkdir -p build && cd build
cmake -DCMAKE_BUILD_TYPE=Release ..

# Build
cmake --build . -j4

# Run
./TDS_Server    # Start server
./TDS_Client    # Start client
```

## Need Help?

If you're still seeing IDE errors after following this guide:
1. Check what specific error messages appear
2. Verify the file paths in error messages
3. Make sure you're not opening old .sln files
4. Try opening just the folder, not a project file
